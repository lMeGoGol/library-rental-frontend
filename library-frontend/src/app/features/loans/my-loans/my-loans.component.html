<section>
  <div class="section-title">üìñ –ú–æ—ó –ø–æ–∑–∏–∫–∏</div>
  <div *ngIf="loading" class="card loading">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</div>
  <div *ngIf="!loading && loans.length" class="card card-table">
    <table class="lib-table">
      <thead>
        <tr>
          <th>ID</th>
          <th>ID –∫–Ω–∏–≥–∏</th>
          <th>–ö–Ω–∏–≥–∞</th>
          <th>–í–∏–¥–∞–Ω–æ</th>
          <th>–ü–æ–≤–µ—Ä–Ω—É—Ç–æ</th>
          <th>–°—Ç–∞—Ç—É—Å</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let l of loans; trackBy: trackById">
          <td class="id-col">
            <div class="id-cell">
              <span class="mono" [title]="l.id">{{ formatId(l.id) }}</span>
              <button class="btn tiny outline" title="–ö–æ–ø—ñ—é–≤–∞—Ç–∏ ID" (click)="copyId($event, l.id)">üìã</button>
            </div>
          </td>
          <td class="id-col">
            <div class="id-cell">
              <span class="mono" [title]="getBookId(l.book)">{{ formatId(getBookId(l.book)) }}</span>
              <button class="btn tiny outline" title="–ö–æ–ø—ñ—é–≤–∞—Ç–∏ ID –∫–Ω–∏–≥–∏" (click)="copyId($event, getBookId(l.book))">üìã</button>
            </div>
          </td>
          <td>{{ displayBook(l.book) }}</td>
          <td>{{ l.issueDate | date:'shortDate' }}</td>
          <td>{{ l.actualReturnDate ? (l.actualReturnDate | date:'shortDate') : '‚Äî' }}</td>
          <td><span class="badge" [class.success]="l.status==='returned'" [class.warn]="l.status==='issued'">{{ l.status === 'issued' ? '–≤–∏–¥–∞–Ω–æ' : (l.status === 'returned' ? '–ø–æ–≤–µ—Ä–Ω–µ–Ω–æ' : l.status) }}</span></td>
        </tr>
      </tbody>
    </table>
  </div>
  <div *ngIf="!loading && !loans.length" class="card empty">–ù–µ–º–∞—î –ø–æ–∑–∏–∫</div>

</section>
